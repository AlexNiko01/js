<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--<button id="myBut">click</button>-->
<!--<div id="homeworkContainer" style="position: relative; width: 100%; min-height: 100vh; background-color: #0074D9"></div>-->
<!--<canvas></canvas>-->
<button id="myButton">load</button>
<div id="content"></div>

<!--<div id="homework-container">-->
<!--<div id="loading-block"></div>-->
<!--<input type="text" id="filter-input">-->
<!--<div id="filter-block"></div>-->
<!--<div id="filter-result"></div>-->
<!--</div>-->

<script>
    const btn = document.getElementById('myButton');
    let content = document.getElementById('content');
    // btn.addEventListener('click', () => {
    //     const newWindow = window.open('', '', 'height=500, width=600, top=200');
    //     let newDiv = newWindow.document.createElement('div');
    //     newDiv.textContent = 'hi';
    //     newWindow.document.body.appendChild(newDiv);
    //
    //     newWindow.postMessage('test mes','*');
    //     console.log(newWindow);
    // });
    // console.log(location.protocol);
    // if(location.protocol === 'http'){
    //     console.log('http');
    // }
    // btn.addEventListener('click', () => {
    //
    //     let p = location.search.slice(1).split('&');
    //     const t = p.reduce((prev, cur) => {
    //         const [name, value] = cur.split('=');
    //         prev[name] = value;
    //         return prev;
    //     }, {});
    //     console.log(t);
    //
    // });

    // function loadFile(url) {
    //     return new Promise((resolve, reject) => {
    //         const xhr = new XMLHttpRequest();
    //         xhr.open('GET', url);
    //         xhr.send();
    //         xhr.addEventListener('load', () => {
    //             if (xhr.response === 404) {
    //                 reject()
    //             } else {
    //                 resolve(xhr.response);
    //             }
    //         });
    //     })
    // }
    function loadFile(url) {
        return fetch(url).then(r => r.text())
    }

    btn.addEventListener('click', async () => {
        const response = await fetch('file.txt');
        if(response.status === 404){
            console.log('chmo');
        }else {
            content = await response.text();
            console.log(content);
        }

    });
    // btn.addEventListener('click',  () => {
    //     loadFile('file.txt')
    //         .then((value) => {
    //             content.textContent = value;
    //             return loadFile('file2.txt')
    //         })
    //         .then((value) => {
    //             content.textContent += ' ' + value;
    //         })
    //         .catch(() => {
    //             console.log('file is not exist');
    //         })
    //     ;
    // });

    // fetch('file2s.txt')
    //     .then(response => {
    //         if (response.status === 404) {
    //             return Promise.reject()
    //         }
    //         return response.text()
    //     })
    //     .then(val => console.log(val))
    //     .catch((e) => {
    //         console.log('chmo')
    //     });

</script>
<!--<script src="myTest2.js"></script>-->
<!--<script src="myTest3.js"></script>-->
<!--<script src="script.js"></script>-->
</body>
</html>